<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì†Œë‚™ì˜ ê°ë„ì‚¬ v6.3</title>
  <style>
    body { font-family: 'Pretendard', sans-serif; background: #f5f5f5; margin: 0; padding: 0; }
    header { background: #333; color: #fff; padding: 20px; text-align: center; }
    main { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; padding: 20px; max-width: 1200px; margin: auto; }
    .panel { background: #fff; border-radius: 10px; padding: 20px; box-shadow: 0 0 8px rgba(0,0,0,0.1); }
    h2 { margin-top: 0; }
    label { display: block; font-weight: bold; margin-top: 10px; }
    input, select, button { width: 100%; padding: 10px; margin-top: 5px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; }
    button { background: #333; color: #fff; border: none; cursor: pointer; font-weight: bold; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background: #f2f2f2; }
    .explain { font-size: 14px; color: #555; }
  </style>
</head>
<body>
  <header>
    <h1>ì†Œë‚™ì˜ ê°ë„ì‚¬ ğŸ¯ v6.3</h1>
    <p>ì‹¤ê°í˜• ê°ë„ í…Œì´ë¸” + ì²´ê° ë³´ì • ë‹¨ì¼ ë³€í™˜</p>
  </header>
  <main>
    <div class="panel">
      <h2>ğŸ“Š ì‹¤ê°í˜• ê°ë„ í…Œì´ë¸”</h2>
      <label>ê¸°ì¤€ DPI</label>
      <select id="realBaseDPI">
        <option value="400">400</option>
        <option value="800" selected>800</option>
        <option value="1200">1200</option>
        <option value="1600">1600</option>
        <option value="3200">3200</option>
      </select>
      <label>ì¼ë°˜ ê°ë„</label><input type="number" id="realGeneral" placeholder="ì˜ˆ: 46">
      <label>ì¡°ì¤€ ê°ë„</label><input type="number" id="realAim" placeholder="ì˜ˆ: 44">
      <label>ìŠ¤ì½”í”„ ê°ë„</label><input type="number" id="realScope" placeholder="ì˜ˆ: 36">
      <label>ìˆ˜ì§ ê°ë„</label><input type="number" id="realVertical" placeholder="ì˜ˆ: 0.90">
      <button onclick="calcReal()">ê³„ì‚°</button>
      <div id="realResult"></div>
    </div>
    <div class="panel">
      <h2>ğŸ”„ ì²´ê° ë³´ì • ë‹¨ì¼ ë³€í™˜</h2>
      <label>ê¸°ì¤€ DPI</label>
      <select id="percBaseDPI">
        <option value="400">400</option>
        <option value="800" selected>800</option>
        <option value="1200">1200</option>
        <option value="1600">1600</option>
        <option value="3200">3200</option>
      </select>
      <label>ë³€ê²½ DPI</label>
      <select id="percTargetDPI">
        <option value="400">400</option>
        <option value="800">800</option>
        <option value="1200" selected>1200</option>
        <option value="1600">1600</option>
        <option value="3200">3200</option>
      </select>
      <label>ê¸°ì¤€ ì¼ë°˜ ê°ë„</label><input type="number" id="percGeneral" placeholder="ì˜ˆ: 46">
      <label>ì˜¥íƒ€ë¸Œë‹¹ ê°ë„ ì°¨ì´</label><input type="number" id="octaveDiff" placeholder="ì˜ˆ: 15">
      <button onclick="calcPerc()">ê³„ì‚°</button>
      <div id="percResult"></div>
    </div>
    <div class="panel explain">
      <h2>ğŸ“– ê³„ì‚° ì›ë¦¬</h2>
      <p><strong>ì‹¤ê°í˜• ê°ë„</strong>: <em>ê°ë„ = (ê¸°ì¤€ DPI Ã— ê°ë„) Ã· ëŒ€ìƒ DPI</em></p>
      <p><strong>ì²´ê° ë³´ì • ë³€í™˜</strong>: <em>ìƒˆê°ë„ = ê¸°ì¤€ê°ë„ â€“ [logâ‚‚(ë³€ê²½DPI Ã· ê¸°ì¤€DPI) Ã— ì˜¥íƒ€ë¸Œë‹¹ ê°ë„ ì°¨ì´]</em></p>
      <p>ì˜ˆì‹œ: 400â†’800, ê¸°ì¤€ê°ë„ 50, ì°¨ì´ 15 â†’ <strong>50 â€“ (1 Ã— 15) = 35</strong></p>
    </div>
  </main>
  <script>
    const DPIs = [400,800,1200,1600,3200];
    function calcReal(){
      const b = parseFloat(document.getElementById('realBaseDPI').value);
      const g = parseFloat(document.getElementById('realGeneral').value);
      const a = parseFloat(document.getElementById('realAim').value);
      const s = parseFloat(document.getElementById('realScope').value);
      const v = parseFloat(document.getElementById('realVertical').value);
      if([b,g,a,s,v].some(isNaN)){ alert('ëª¨ë“  ê°’ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'); return; }
      let t = '<table><tr><th>DPI</th><th>ì¼ë°˜</th><th>ì¡°ì¤€</th><th>ìŠ¤ì½”í”„</th><th>ìˆ˜ì§</th></tr>';
      DPIs.forEach(d=> {
        t += `<tr><td>${d}</td>
          <td>${((b*g)/d).toFixed(2)}</td>
          <td>${((b*a)/d).toFixed(2)}</td>
          <td>${((b*s)/d).toFixed(2)}</td>
          <td>${v.toFixed(2)}</td></tr>`;
      });
      t += '</table>';
      document.getElementById('realResult').innerHTML = t;
    }
    function calcPerc(){
      const b = parseFloat(document.getElementById('percBaseDPI').value);
      const t = parseFloat(document.getElementById('percTargetDPI').value);
      const g = parseFloat(document.getElementById('percGeneral').value);
      const diff = parseFloat(document.getElementById('octaveDiff').value);
      if([b,t,g,diff].some(isNaN)){ alert('ëª¨ë“  ê°’ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'); return; }
      const oct = Math.log2(t/b);
      const val = (g - oct*diff).toFixed(2);
      document.getElementById('percResult').innerHTML =
        `<p>ì˜¥íƒ€ë¸Œ ì°¨ì´: ${oct.toFixed(2)}</p><p>ì²´ê° ë³€í™˜ ê°ë„: ${val}</p>`;
    }
  </script>
</body>
</html>
